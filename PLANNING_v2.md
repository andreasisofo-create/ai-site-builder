# AI Site Builder - Pianificazione v2
## Modello: Prodotto One-Time â‚¬100 (Hosting + Dominio Inclusi)

---

## 1. VISIONE PRODOTTO RAFFINATA

### 1.1 Business Model
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BUSINESS MODEL                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Prezzo:        â‚¬100 (one-time payment)                      â”‚
â”‚ Include:       - Generazione homepage AI                    â”‚
â”‚                - Hosting (illimitato o X anni)              â”‚
â”‚                - Dominio: scelta tra                        â”‚
â”‚                  â€¢ Sottodominio gratuito                    â”‚
â”‚                  â€¢ Dominio custom (utente compra/registra)  â”‚
â”‚                - SSL certificate                              â”‚
â”‚                - CDN + ottimizzazione performance           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 User Journey Completo

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Landing â”‚â”€â”€â–¶â”‚  Pagamentoâ”‚â”€â”€â–¶â”‚  Registrazioneâ”‚â”€â”€â–¶â”‚  Builder â”‚â”€â”€â–¶â”‚ Preview  â”‚
â”‚  Page    â”‚   â”‚  Stripe  â”‚   â”‚  Completa    â”‚   â”‚  Wizard  â”‚   â”‚  Sito    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                                                                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Scegli       â”‚â”€â”€â–¶â”‚ Configura    â”‚â”€â”€â–¶â”‚ Deploy       â”‚â”€â”€â–¶â”‚ Sito Online  â”‚
â”‚ Dominio      â”‚   â”‚ DNS (se      â”‚   â”‚ Automatico   â”‚   â”‚ âœ“ Pubblicato â”‚
â”‚              â”‚   â”‚ custom)      â”‚   â”‚              â”‚   â”‚ âœ“ SSL attivo â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 Scope Progetto (Ridotto e Focusato)

| Feature | Incluso | Note |
|---------|---------|------|
| Homepage singola | âœ… | Una pagina completa, responsive |
| Sezioni multiple | âœ… | Hero, About, Services, Contact, Footer |
| Form di contatto | âœ… | Integrato (puÃ² usare Formspare o emailJS) |
| SEO base | âœ… | Meta tags, OpenGraph, favicon |
| Pagina multipla | âŒ | Solo homepage per ora |
| E-commerce | âŒ | Non incluso in questa versione |
| Blog | âŒ | Non incluso |
| Backend custom | âŒ | No DB utente, solo sito statico |

---

## 2. FLUSSO DETTAGLIATO

### 2.1 Landing Page (Pubblica)
```
URL: /
Contenuto:
â”œâ”€â”€ Hero: "Il tuo sito professionale in 60 secondi - â‚¬100 una tantum"
â”œâ”€â”€ Come funziona (3 step):
â”‚   1. Descrivi il tuo business
â”‚   2. Carica logo e riferimenti
â”‚   3. Ricevi sito online con dominio
â”œâ”€â”€ Esempi/screenshot siti generati
â”œâ”€â”€ Prezzo: â‚¬100 (tutto incluso)
â”œâ”€â”€ FAQ
â””â”€â”€ CTA: "Inizia Ora" â†’ /checkout
```

### 2.2 Checkout & Pagamento (Stripe)
```
URL: /checkout
Flusso:
1. Utente clicca "Inizia Ora"
2. Stripe Checkout Session (â‚¬100)
3. Pagamento completato â†’ Webhook Stripe
4. Redirect a /register?session_id=xxx

Webhook Stripe gestisce:
- Creazione utente (email dal pagamento)
- Marcatura: payment_status = 'paid'
- Invio email di conferma con link accesso
```

### 2.3 Registrazione Completa
```
URL: /register (accessibile solo dopo pagamento)
Dati richiesti:
â”œâ”€â”€ Email (pre-compilata da Stripe)
â”œâ”€â”€ Password
â”œâ”€â”€ Nome completo
â””â”€â”€ Nome business (per default subdomain)

Dopo registrazione:
â†’ Redirect a /dashboard/benvenuto (onboarding)
```

### 2.4 Builder Wizard (3 Step)

#### Step 1: Brand & Info
```
URL: /dashboard/builder/step-1
Campi:
â”œâ”€â”€ Nome sito / business (required)
â”œâ”€â”€ Descrizione attivitÃ  (required)
â”‚   Esempio placeholder:
â”‚   "Ristorante italiano a Roma centro, cucina tradizionale,
â”‚    specialitÃ  pasta fatta in casa, aperto dal 1985..."
â”œâ”€â”€ Upload logo (optional ma consigliato)
â”‚   - Formati: PNG, JPG, SVG
â”‚   - Max 2MB
â”‚   - Auto-resize per web
â””â”€â”€ Tagline/slogan (optional)
```

#### Step 2: Ispirazione
```
URL: /dashboard/builder/step-2
Campi:
â”œâ”€â”€ Upload screenshot sito di riferimento #1 (optional)
â”‚   - Analisi AI: palette colori, stile, layout
â”œâ”€â”€ Upload screenshot sito di riferimento #2 (optional)
â”‚   - Per combinare stili diversi
â”œâ”€â”€ URL siti preferiti (text input, optional)
â”‚   - Backup se non riesce upload
â””â”€â”€ Stile preferito (select, fallback)
    â”œâ”€â”€ Moderno/Minimal
    â”œâ”€â”€ Classico/Elegante
    â”œâ”€â”€ Bold/Creativo
    â”œâ”€â”€ Corporate
    â””â”€â”€ Vivo/Giocoso
```

#### Step 3: Contenuti
```
URL: /dashboard/builder/step-3
Campi:
â”œâ”€â”€ Sezioni da includere (checkbox):
â”‚   â”œâ”€â”€ Hero (con CTA)
â”‚   â”œâ”€â”€ Chi Siamo / About
â”‚   â”œâ”€â”€ Servizi / Prodotti
â”‚   â”œâ”€â”€ Gallery (placeholder)
â”‚   â”œâ”€â”€ Team (optional)
â”‚   â”œâ”€â”€ Testimonianze (placeholder)
â”‚   â”œâ”€â”€ Contatti / Form
â”‚   â””â”€â”€ Footer completo
â”‚
â”œâ”€â”€ Testi per ogni sezione (textarea)
â”‚   - Oppure "Genera testo AI" che espande descrizione
â”‚
â”œâ”€â”€ Informazioni contatto:
â”‚   â”œâ”€â”€ Indirizzo
â”‚   â”œâ”€â”€ Telefono
â”‚   â”œâ”€â”€ Email
â”‚   â”œâ”€â”€ Orari apertura
â”‚   â””â”€â”€ Social links
â”‚
â””â”€â”€ Call to Action primaria:
    â”œâ”€â”€ "Contattaci"
    â”œâ”€â”€ "Prenota"
    â”œâ”€â”€ "Richiedi preventivo"
    â””â”€â”€ "Acquista ora"
```

### 2.5 Generazione AI

```
Trigger: Click "Genera Sito" da step-3

Processo Backend:
1. Validazione dati
2. Upload file su storage (logo, reference images)
3. Costruzione prompt per Kimi K2.5
4. Queue task generazione
5. Real-time update via SSE
6. Ricezione HTML
7. Sanitizzazione
8. Salva su DB (versions)
9. Deploy su ambiente staging

Tempo stimato: 30-90 secondi
```

**Prompt Structure per Kimi K2.5:**
```
System: "Sei un esperto web designer. Genera HTML5 semantico 
con Tailwind CSS. Il sito deve essere responsive, moderno, 
e ottimizzato per performance."

User Context:
- Business: {nome} - {descrizione}
- Logo: {logo_url}
- Stile riferimento: {reference_analysis}
- Palette colori: {extracted_colors}
- Sezioni richieste: {sections}
- Contenuti: {content_text}
- CTA: {cta_text}

Output richiesto:
- HTML5 completo in un unico file
- Tailwind CSS via CDN
- JavaScript minimale (solo mobile menu)
- Placeholder immagini da placehold.co
- Form contatto funzionante (formspree action)
- Meta tags SEO
- Favicon link
```

### 2.6 Preview & Modifiche

```
URL: /dashboard/preview/{project_id}
Layout:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Navbar: Logo | "Modifica" | "Scegli Dominio" | "Pubblica"  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                    â”‚               â”‚                        â”‚
â”‚     Sidebar        â”‚   IFRAME      â”‚                        â”‚
â”‚     (25%)          â”‚   Preview     â”‚                        â”‚
â”‚     Modifiche      â”‚   (75%)       â”‚                        â”‚
â”‚     - Colori       â”‚               â”‚                        â”‚
â”‚     - Font         â”‚   Sito live   â”‚                        â”‚
â”‚     - Testi        â”‚   preview     â”‚                        â”‚
â”‚     - Rigenera     â”‚               â”‚                        â”‚
â”‚       sezione      â”‚               â”‚                        â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Modifiche possibili:
1. "Cambia colore primario" â†’ color picker â†’ regenera CSS
2. "Modifica testo sezione X" â†’ textarea â†’ update HTML
3. "Rigenera hero" â†’ prompt specifico â†’ nuova versione
4. "Aggiungi/rimuovi sezione" â†’ update struttura

Ogni modifica crea nuova versione (salvata in DB)
PossibilitÃ  di rollback a versioni precedenti
```

### 2.7 Scelta Dominio

```
URL: /dashboard/domain/{project_id}

Opzione A: Sottodominio Gratuito
â”œâ”€â”€ Input: {username}.ai-site-builder.com
â”œâ”€â”€ Verifica disponibilitÃ  in realtime
â”œâ”€â”€ Se disponibile â†’ prenota
â””â”€â”€ Se non disponibile â†’ suggerisci alternative

Opzione B: Dominio Personalizzato
â”œâ”€â”€ Input: www.miosito.com
â”œâ”€â”€ Verifica disponibilitÃ  (WHOIS API)
â”œâ”€â”€ Se disponibile:
â”‚   â”œâ”€â”€ Mostra prezzo (varia per TLD)
â”‚   â”œâ”€â”€ "Acquista tramite nostro partner" â†’ redirect
â”‚   â””â”€â”€ OPPURE "Ho giÃ  comprato questo dominio"
â”œâ”€â”€ Se non disponibile:
â”‚   â””â”€â”€ Suggerisci alternative (.com, .it, .net)
â””â”€â”€ Se utente ha giÃ  dominio:
    â”œâ”€â”€ Istruzioni configurazione DNS
    â”œâ”€â”€ Record CNAME/A da configurare
    â””â”€â”€ Verifica propagazione DNS

Nota: Per MVP, supportiamo solo sottodominio gratuito + 
      dominio giÃ  posseduto dall'utente (configurazione manuale)
```

### 2.8 Deploy & Go Live

```
URL: /dashboard/publish/{project_id}

Processo:
1. Verifica dominio configurato
2. Ottimizzazione finale:
   â”œâ”€â”€ Minifica HTML
   â”œâ”€â”€ Ottimizza immagini
   â”œâ”€â”€ Genera favicon multi-size
   â””â”€â”€ Crea sitemap.xml
3. Deploy su hosting:
   â”œâ”€â”€ Sottodominio: Deploy su Vercel/Netlify con subdomain
   â””â”€â”€ Dominio custom: Configura DNS + SSL
4. SSL provisioning (Let's Encrypt)
5. Verifica sito online
6. Invio email conferma con URL sito

Tempo deploy: 1-5 minuti
```

---

## 3. ARCHITETTURA TECNICA V2

### 3.1 Stack Semplificato

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FRONTEND (Next.js 14)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Next.js App â”‚ â”‚  shadcn/ui   â”‚ â”‚  Stripe.js (checkout)    â”‚ â”‚
â”‚  â”‚  Router      â”‚ â”‚  Tailwind    â”‚ â”‚                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  React Query â”‚ â”‚  Zustand     â”‚ â”‚  SSE Client (events)     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ HTTPS / JSON
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       BACKEND (FastAPI)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   FastAPI    â”‚ â”‚  SQLAlchemy  â”‚ â”‚    Redis (queue + cache) â”‚ â”‚
â”‚  â”‚   (async)    â”‚ â”‚   (Postgre)  â”‚ â”‚                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Stripe     â”‚ â”‚   Kimi SDK   â”‚ â”‚    Vercel API (deploy)   â”‚ â”‚
â”‚  â”‚   Webhooks   â”‚ â”‚   (async)    â”‚ â”‚                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      INFRASTRUCTURE                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  PostgreSQL  â”‚ â”‚    Redis     â”‚ â”‚   Cloudflare R2          â”‚ â”‚
â”‚  â”‚              â”‚ â”‚   (queue)    â”‚ â”‚   (assets storage)       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚  â”‚  Vercel      â”‚ â”‚  Cloudflare  â”‚                              â”‚
â”‚  â”‚  (hosting    â”‚ â”‚  (DNS + SSL  â”‚                              â”‚
â”‚  â”‚   sites)     â”‚ â”‚   + CDN)     â”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Hosting Strategy

| Aspetto | Soluzione | Motivo |
|---------|-----------|--------|
| **Siti utente** | Vercel API | Deploy automatico, CDN globale, SSL auto |
| **Sottodomini** | Wildcard *.ai-site-builder.com | DNS Cloudflare â†’ Vercel |
| **Domini custom** | Vercel + Let's Encrypt | Utente punta DNS a noi |
| **Assets** | Cloudflare R2 | Costo basso, CDN integrato |
| **Database** | PostgreSQL | Dati utenti, progetti, versioni |

### 3.3 Modello Dati Semplificato

```sql
-- UTENTI (creati dopo pagamento Stripe)
CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    email VARCHAR(255) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    full_name VARCHAR(255),
    
    -- Pagamento
    stripe_customer_id VARCHAR(255),
    stripe_payment_intent_id VARCHAR(255),
    payment_status VARCHAR(50) DEFAULT 'pending', -- pending, paid, refunded
    paid_at TIMESTAMP WITH TIME ZONE,
    
    -- Meta
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    last_login TIMESTAMP WITH TIME ZONE
);

-- PROGETTI (uno per utente in questa versione)
CREATE TABLE projects (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    
    -- Configurazione
    name VARCHAR(255) NOT NULL,
    business_description TEXT NOT NULL,
    tagline VARCHAR(500),
    
    -- Assets
    logo_url TEXT,
    logo_key VARCHAR(500),
    reference_image_1_url TEXT,
    reference_image_1_key VARCHAR(500),
    reference_image_2_url TEXT,
    reference_image_2_key VARCHAR(500),
    
    -- Stile estratto
    style_config JSONB DEFAULT '{}', -- colori, font, mood
    
    -- Contenuti
    sections JSONB DEFAULT '[]', -- array di sezioni con contenuti
    contact_info JSONB DEFAULT '{}',
    cta_text VARCHAR(255) DEFAULT 'Contattaci',
    
    -- Stato
    status VARCHAR(50) DEFAULT 'draft', -- draft, generating, ready, published, error
    generation_error TEXT,
    
    -- Dominio
    subdomain VARCHAR(100), -- {subdomain}.ai-site-builder.com
    custom_domain VARCHAR(255), -- www.example.com (NULL se usa subdomain)
    domain_status VARCHAR(50) DEFAULT 'pending', -- pending, configuring, active, error
    
    -- Deploy
    vercel_project_id VARCHAR(255),
    vercel_deployment_url TEXT,
    site_url TEXT, -- URL finale pubblico
    
    -- Timestamp
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    published_at TIMESTAMP WITH TIME ZONE
);

-- VERSIONI HTML
CREATE TABLE versions (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    project_id UUID NOT NULL REFERENCES projects(id) ON DELETE CASCADE,
    
    version_number INTEGER NOT NULL,
    html_content TEXT NOT NULL,
    
    -- AI metadata
    prompt_used TEXT,
    ai_model VARCHAR(100) DEFAULT 'kimi-k2.5',
    generation_time_ms INTEGER,
    
    -- Stato
    is_current BOOLEAN DEFAULT FALSE,
    is_published BOOLEAN DEFAULT FALSE,
    
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    
    UNIQUE(project_id, version_number)
);

-- LOG ATTIVITÃ€ (per debug e supporto)
CREATE TABLE activity_logs (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES users(id) ON DELETE SET NULL,
    project_id UUID REFERENCES projects(id) ON DELETE SET NULL,
    
    action VARCHAR(50) NOT NULL, -- 'payment_completed', 'generation_started', 
                                 -- 'generation_completed', 'domain_configured', 
                                 -- 'site_published', etc.
    status VARCHAR(50) NOT NULL, -- success, error
    details JSONB DEFAULT '{}',
    error_message TEXT,
    
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Indici
CREATE INDEX idx_projects_user ON projects(user_id);
CREATE INDEX idx_projects_subdomain ON projects(subdomain);
CREATE INDEX idx_projects_custom_domain ON projects(custom_domain);
CREATE INDEX idx_versions_project ON versions(project_id, version_number DESC);
CREATE INDEX idx_versions_current ON versions(project_id) WHERE is_current = TRUE;
CREATE INDEX idx_logs_user ON activity_logs(user_id, created_at DESC);
```

---

## 4. INTEGRAZIONI ESTERNE

### 4.1 Stripe (Pagamenti)

```
Prodotti:
â”œâ”€â”€ Prodotto: "AI Site Builder - Sito Web Completo"
â”œâ”€â”€ Prezzo: â‚¬100.00 (one-time)
â””â”€â”€ Stripe Checkout Session

Flusso:
1. Crea Checkout Session (success_url: /register?session_id={})
2. Utente paga su Stripe
3. Webhook "checkout.session.completed"
4. Crea utente con payment_status = 'paid'
5. Invia email di benvenuto
```

### 4.2 Vercel API (Hosting)

```
Operazioni:
â”œâ”€â”€ Create Project (per ogni sito utente)
â”œâ”€â”€ Create Deployment (upload HTML + assets)
â”œâ”€â”€ Configure Domain (subdomain o custom)
â”œâ”€â”€ Get Deployment Status
â””â”€â”€ Get Analytics (opzionale)

Autenticazione: Vercel Token
```

### 4.3 Cloudflare (DNS + SSL)

```
Configurazione:
â”œâ”€â”€ Zone: ai-site-builder.com
â”œâ”€â”€ Wildcard: *.ai-site-builder.com â†’ Vercel
â”œâ”€â”€ Custom domains: CNAME â†’ cname.vercel-dns.com
â””â”€â”€ SSL: Full (strict)
```

### 4.4 Kimi K2.5 (AI Generation)

```
Endpoint: API Kimi (K2.5 model)
Uso:
â”œâ”€â”€ Analisi immagine riferimento (vision)
â”œâ”€â”€ Generazione HTML completo
â””â”€â”€ Refinement/modifiche

Gestione errori:
â”œâ”€â”€ Retry 3x in caso di timeout
â”œâ”€â”€ Fallback a modello alternativo se necessario
â””â”€â”€ Cache risultati per 1h (se stesso input)
```

---

## 5. WORKFLOW CRITICI

### 5.1 Pagamento â†’ Accesso

```
Utente clicca "Inizia Ora"
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Stripe Checkout â”‚
â”‚   Session       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Utente paga    â”‚â”€â”€â”€â”€â–¶â”‚ Webhook Stripe  â”‚
â”‚    â‚¬100         â”‚     â”‚  (backend)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ 1. Verifica pagamento  â”‚
                    â”‚ 2. Crea utente (email) â”‚
                    â”‚ 3. payment_status=paid â”‚
                    â”‚ 4. Invia email accesso â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Redirect a      â”‚
â”‚ /register con   â”‚
â”‚ session_id      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Utente crea     â”‚
â”‚ password        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Accesso al      â”‚
â”‚ Dashboard       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 Generazione Sito

```
Utente completa Step 3 (builder)
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST /generate  â”‚
â”‚ Con tutti i datiâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend:                â”‚
â”‚ 1. Valida dati          â”‚
â”‚ 2. Salva project config â”‚
â”‚ 3. Enqueue task Redis   â”‚
â”‚ 4. Ritorna job_id       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Worker (ARQ):           â”‚
â”‚ 1. Recupera dati        â”‚
â”‚ 2. Analizza reference   â”‚
â”‚    images (Kimi Vision) â”‚
â”‚ 3. Costruisce prompt    â”‚
â”‚ 4. Genera HTML (Kimi)   â”‚
â”‚ 5. Sanitizza HTML       â”‚
â”‚ 6. Salva version        â”‚
â”‚ 7. Deploy staging       â”‚
â”‚ 8. Pubblica status      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼ (SSE/PubSub)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend riceve:        â”‚
â”‚ - "generation_complete" â”‚
â”‚ - URL preview           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 Deploy Live

```
Utente conferma: "Pubblica Sito"
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Verifica dominio     â”‚
â”‚    configurato          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2. Ottimizza assets     â”‚
â”‚    (minify, compress)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3. Vercel API:          â”‚
â”‚    - Create deployment  â”‚
â”‚    - Upload files       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4. Configura dominio:   â”‚
â”‚    - Se subdomain:      â”‚
â”‚      add domain to      â”‚
â”‚      Vercel project     â”‚
â”‚    - Se custom:         â”‚
â”‚      verify DNS +       â”‚
â”‚      configure SSL      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 5. Attiva deploy        â”‚
â”‚    (promote to prod)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 6. Aggiorna DB:         â”‚
â”‚    status=published     â”‚
â”‚    site_url=xxx         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 7. Invia email:         â”‚
â”‚    "Sito online!"       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. UI/UX WIREFRAMES

### 6.1 Landing Page

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Logo                              Login  [Inizia Ora - â‚¬100]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚         IL TUO SITO WEB IN 60 SECONDI                       â”‚
â”‚                                                             â”‚
â”‚    Descrivi la tua attivitÃ , carica il logo e ricevi        â”‚
â”‚    un sito professionale completo di dominio e hosting.     â”‚
â”‚                                                             â”‚
â”‚    [ğŸš€ Inizia Ora - â‚¬100 (tutto incluso)]                   â”‚
â”‚                                                             â”‚
â”‚    âœ“ Homepage personalizzata  âœ“ Dominio incluso             â”‚
â”‚    âœ“ Hosting illimitato       âœ“ SSL gratuito                â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  COME FUNZIONA                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚ 1ï¸âƒ£ Descriviâ”‚  â”‚ 2ï¸âƒ£ Carica â”‚  â”‚ 3ï¸âƒ£ Ricevi â”‚                       â”‚
â”‚  â”‚  il tuo   â”‚  â”‚  logo e   â”‚  â”‚  sito     â”‚                       â”‚
â”‚  â”‚  business â”‚  â”‚  riferimentiâ”‚  â”‚  online   â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ESEMPI DI SITI GENERATI                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚ [Preview]â”‚ â”‚ [Preview]â”‚ â”‚ [Preview]â”‚                      â”‚
â”‚  â”‚Ristoranteâ”‚ â”‚ Negozio  â”‚ â”‚ Studio   â”‚                      â”‚
â”‚  â”‚Italiano  â”‚ â”‚ Online   â”‚ â”‚ Legale   â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  TUTTO INCLUSO PER â‚¬100 (una tantum)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âœ“ Homepage professionale  âœ“ Dominio a scelta           â”‚ â”‚
â”‚  â”‚ âœ“ Hosting illimitato      âœ“ Certificato SSL            â”‚ â”‚
â”‚  â”‚ âœ“ Design responsive       âœ“ Supporto email             â”‚ â”‚
â”‚  â”‚ âœ“ Form contatto           âœ“ Modifiche per 30 giorni    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸš€ Crea il tuo sito ora - â‚¬100]                           â”‚
â”‚                                                             â”‚
â”‚  Hai domande? Scrivi a support@ai-site-builder.com          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 Dashboard Builder (Step 1)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Logo    Step 1 di 3    [Exit]                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ“ Informazioni del tuo Business                           â”‚
â”‚                                                             â”‚
â”‚  Nome del sito / attivitÃ  *                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Trattoria Da Mario                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  Descrivi la tua attivitÃ  *                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Ristorante italiano nel centro storico di Roma.     â”‚   â”‚
â”‚  â”‚ SpecialitÃ  pasta fresca fatta in casa e piatti      â”‚   â”‚
â”‚  â”‚ tradizionali. Atmosfera familiare e accogliente.    â”‚   â”‚
â”‚  â”‚ Aperto dal 1985.                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  Logo (consigliato)                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚   [ğŸ“ Trascina qui o clicca per caricare]          â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚   Formati: PNG, JPG, SVG | Max 2MB                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  Tagline / Slogan (opzionale)                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ "Il vero gusto della tradizione romana"             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚                                       [Avanti â†’]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.3 Preview & Pubblicazione

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Logo    Il tuo sito Ã¨ pronto!                     [Profilo]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              â”‚  â”‚                                      â”‚ â”‚
â”‚  â”‚  MODIFICHE   â”‚  â”‚                                      â”‚ â”‚
â”‚  â”‚              â”‚  â”‚     [IFRAME: Sito Generato]          â”‚ â”‚
â”‚  â”‚ Versione:    â”‚  â”‚                                      â”‚ â”‚
â”‚  â”‚ â–¼ v1.0       â”‚  â”‚     Hero, About, Services...         â”‚ â”‚
â”‚  â”‚              â”‚  â”‚                                      â”‚ â”‚
â”‚  â”‚ Colore:      â”‚  â”‚     [Responsive Preview]             â”‚ â”‚
â”‚  â”‚ [ğŸ”µ] [ğŸŸ¢] [ğŸŸ£]â”‚  â”‚                                      â”‚ â”‚
â”‚  â”‚              â”‚  â”‚     Mobile | Tablet | Desktop        â”‚ â”‚
â”‚  â”‚ Modifica:    â”‚  â”‚                                      â”‚ â”‚
â”‚  â”‚ â€¢ Testi      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚ â€¢ Colori     â”‚                                           â”‚
â”‚  â”‚ â€¢ Immagini   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â€¢ Rigenera   â”‚  â”‚  ğŸŒ Scegli dove pubblicare:          â”‚ â”‚
â”‚  â”‚              â”‚  â”‚                                      â”‚ â”‚
â”‚  â”‚ [ğŸ’¬ Chiedi   â”‚  â”‚  (â€¢) Subdominio gratuito             â”‚ â”‚
â”‚  â”‚   modifiche] â”‚  â”‚      trattoria-da-mario.ai-site.com  â”‚ â”‚
â”‚  â”‚              â”‚  â”‚                                      â”‚ â”‚
â”‚  â”‚              â”‚  â”‚  ( ) Dominio personalizzato          â”‚ â”‚
â”‚  â”‚              â”‚  â”‚      [www._____________.com    ]     â”‚ â”‚
â”‚  â”‚              â”‚  â”‚      [Verifica disponibilitÃ ]        â”‚ â”‚
â”‚  â”‚              â”‚  â”‚                                      â”‚ â”‚
â”‚  â”‚              â”‚  â”‚  [ğŸš€ Pubblica Sito Ora]              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. PIANO IMPLEMENTAZIONE

### Fase 1: Foundation (Settimana 1)
| Task | Ore | Output |
|------|-----|--------|
| Setup Docker (DB, Redis) | 2h | Ambiente dev |
| Init Next.js + shadcn | 3h | Frontend base |
| Init FastAPI | 3h | Backend base |
| Database schema + migrations | 3h | Tabelle pronte |
| Stripe integration (checkout) | 4h | Pagamento funzionante |
| Landing page design | 4h | Homepage pubblica |

**Milestone:** Utente puÃ² pagare â‚¬100 e ricevere email di conferma

### Fase 2: Auth & Dashboard (Settimana 2)
| Task | Ore | Output |
|------|-----|--------|
| Registrazione post-pagamento | 3h | Flusso completo |
| Login/logout | 2h | Auth funzionante |
| Dashboard layout | 3h | UI dashboard |
| Builder Step 1 UI | 4h | Form brand/info |
| Builder Step 2 UI | 3h | Upload reference |
| Builder Step 3 UI | 4h | Sezioni e contenuti |

**Milestone:** Wizard completo, utente puÃ² compilare tutti i dati

### Fase 3: AI Generation (Settimana 3)
| Task | Ore | Output |
|------|-----|--------|
| Kimi API integration | 4h | Chiamate AI |
| Image analysis (vision) | 4h | Estrazione stile |
| Prompt engineering | 4h | HTML di qualitÃ  |
| ARQ queue setup | 3h | Background jobs |
| Generation worker | 4h | Task async |
| Preview iframe | 3h | Visualizzazione |

**Milestone:** Sito generato e visibile in preview

### Fase 4: Dominio & Deploy (Settimana 4)
| Task | Ore | Output |
|------|-----|--------|
| Vercel API integration | 4h | Deploy automatico |
| Subdomain management | 3h | *.ai-site.com |
| Custom domain config | 4h | DNS + SSL |
| Deploy automation | 4h | Go live flow |
| Email notifications | 2h | Email transazionali |

**Milestone:** Sito pubblicato e online su dominio scelto

### Fase 5: Polish (Settimana 5)
| Task | Ore | Output |
|------|-----|--------|
| Modifiche post-generazione | 4h | Refinement basic |
| Versioning | 3h | Storico versioni |
| Error handling | 3h | UX errori |
| Responsive testing | 3h | Mobile ok |
| Performance optimization | 3h | Speed test pass |

**Milestone:** MVP completo pronto per launch

---

## 8. DOMINI E INFRASTRUCTURE

### 8.1 Setup Dominio Principale

```
Acquistare: ai-site-builder.com
Configurazione DNS (Cloudflare):
â”œâ”€â”€ A record: ai-site-builder.com â†’ Vercel
â”œâ”€â”€ CNAME: www â†’ ai-site-builder.com
â””â”€â”€ Wildcard: *.ai-site-builder.com â†’ Vercel

Vercel:
â”œâ”€â”€ Dominio principale: ai-site-builder.com
â”œâ”€â”€ Wildcard: *.ai-site-builder.com
â””â”€â”€ SSL: Auto-provisioned
```

### 8.2 Deploy Siti Utente

```
Per ogni progetto:
1. Vercel API: Create Project
2. Upload HTML + assets
3. Create Deployment
4. Assign domain:
   - subdomain: {sub}.ai-site-builder.com
   - custom: {custom-domain} (utente configura DNS)
```

### 8.3 SSL per Domini Custom

```
Vercel gestisce automaticamente SSL per:
- Tutti i sottodomini wildcard
- Domini custom verificati

Processo dominio custom:
1. Utente inserisce www.miosito.com
2. Verifichiamo DNS punti a Vercel
3. Vercel provisiona SSL (Let's Encrypt)
4. Sito live su HTTPS
```

---

## 9. COSTI STIMATI

### Costi Fissi Mensili (infrastruttura)
| Servizio | Costo/mese | Note |
|----------|------------|------|
| Vercel Pro | $20 | Deploy, CDN, SSL |
| Cloudflare | $0-20 | DNS, SSL wildcard |
| PostgreSQL | $0-15 | Supabase o Railway |
| Redis | $0-10 | Upstash o Railway |
| R2 Storage | $0-5 | Dipende uso |
| Email (Resend) | $0 | Fino a 3k/mese |
| **Totale** | **~$40-70/mese** | |

### Costi Variabili (per utente)
| Voce | Costo | Note |
|------|-------|------|
| Kimi API | ~$0.02-0.05 | Per generazione |
| Bandwidth | ~$0 | Vercel/CDN incluso |
| Storage assets | ~$0.01 | Per sito |
| **Totale per utente** | **~$0.05** | |

### Break-even Analysis
```
Prezzo vendita: â‚¬100
Costo variabile: ~â‚¬0.05
Margine: ~â‚¬99.95

Costi fissi: ~$60/mese = ~â‚¬55/mese
Break-even: 1 vendita ogni 2 mesi (!)
```

---

## 10. DECISIONI DA PRENDERE

### 10.1 Prima di Iniziare

1. **Dominio principale:** Quale compriamo?
   - `ai-site-builder.com` (disponibile?)
   - `instant-site.com`
   - `siteweb-ai.com`
   - Altro?

2. **Hosting:** Confermiamo Vercel?
   - âœ… Vercel: Semplice, API mature
   - Alternative: Netlify, Cloudflare Pages

3. **Database:** Quale provider?
   - Supabase (Postgre + Auth)
   - Railway
   - Neon
   - Self-hosted

4. **Scope refinement:**
   - Solo homepage o anche pagine interne?
   - Form contatto: formspree (semplice) o custom?
   - Modifiche post-pubblicazione incluse? Per quanto tempo?

5. **Pricing:**
   - â‚¬100 Ã¨ il prezzo finale?
   - Early bird sconto?
   - Money-back guarantee?

---

## 11. PROSSI PASSI

1. **Confermare decisioni** (sopra)
2. **Acquistare dominio principale**
3. **Setup account:** Stripe, Vercel, Cloudflare
4. **Iniziare Fase 1** (Foundation)

Vuoi procedere? Confermiamo le decisioni e partiamo con l'implementazione! ğŸš€
