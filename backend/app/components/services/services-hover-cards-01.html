<!-- Services Hover Cards: Premium grid cards with dramatic lift on hover, border-beam glow, and expanded description reveal -->
<section id="services" class="py-24 md:py-32 bg-[var(--color-bg)] overflow-hidden relative">

  <!-- Ambient decorative background -->
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute top-0 left-1/4 w-[500px] h-[500px] bg-[var(--color-primary)]/4 rounded-full blur-[100px]"></div>
    <div class="absolute bottom-0 right-1/4 w-[400px] h-[400px] bg-[var(--color-secondary)]/4 rounded-full blur-[100px]"></div>
  </div>

  <!-- Dot pattern overlay -->
  <div class="absolute inset-0 opacity-[0.025]" style="background-image: radial-gradient(var(--color-text) 1px, transparent 1px); background-size: 24px 24px;"></div>

  <div class="max-w-7xl mx-auto px-6 relative z-10">
    <!-- Header -->
    <div class="text-center mb-20" data-animate="reveal-up">
      <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full border border-[var(--color-primary)]/15 bg-[var(--color-primary)]/5 mb-6" data-animate="blur-in">
        <span class="w-1.5 h-1.5 rounded-full bg-[var(--color-primary)] animate-pulse"></span>
        <span class="text-xs font-semibold tracking-widest uppercase text-[var(--color-primary)] font-body">Cosa Facciamo</span>
      </div>
      <h2 class="text-3xl md:text-5xl lg:text-6xl font-bold font-heading text-[var(--color-text)] mb-5" data-animate="text-split" data-split-type="words">{{SERVICES_TITLE}}</h2>
      <p class="text-[var(--color-text-muted)] max-w-2xl mx-auto text-lg font-body" data-animate="blur-slide" data-delay="0.2" data-duration="1">{{SERVICES_SUBTITLE}}</p>
    </div>

    <!-- Service Cards Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8" data-animate="stagger">
      <!-- REPEAT:SERVICES -->
      <div class="stagger-item" data-animate="scale-in">
        <div class="svc-hcard group relative rounded-2xl overflow-hidden transition-all duration-500 hover:-translate-y-3 hover:shadow-2xl hover:shadow-[var(--color-primary)]/10" data-animate="tilt">
          <!-- Border beam effect container -->
          <div class="absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-700" data-animate="border-beam">
            <div class="absolute inset-[-1px] rounded-2xl" style="background: conic-gradient(from var(--beam-angle, 0deg), transparent 0%, var(--color-primary) 10%, var(--color-secondary) 20%, transparent 30%); animation: svc-beam-spin 3s linear infinite;"></div>
          </div>

          <!-- Card inner (on top of beam) -->
          <div class="relative m-[1px] rounded-2xl bg-[var(--color-bg-alt)] overflow-hidden">
            <!-- Gradient overlay on hover -->
            <div class="absolute inset-0 bg-gradient-to-br from-[var(--color-primary)]/0 to-[var(--color-secondary)]/0 group-hover:from-[var(--color-primary)]/5 group-hover:to-[var(--color-secondary)]/5 transition-all duration-700"></div>

            <!-- Top decorative line -->
            <div class="h-[2px] bg-gradient-to-r from-transparent via-[var(--color-primary)]/0 to-transparent group-hover:via-[var(--color-primary)]/40 transition-all duration-700"></div>

            <div class="relative p-8 md:p-10">
              <!-- Icon row -->
              <div class="flex items-center justify-between mb-6">
                <div class="w-16 h-16 rounded-2xl flex items-center justify-center bg-gradient-to-br from-[var(--color-primary)]/10 to-[var(--color-secondary)]/10 border border-[var(--color-primary)]/10 group-hover:border-[var(--color-primary)]/25 transition-all duration-500 group-hover:scale-110 group-hover:shadow-lg group-hover:shadow-[var(--color-primary)]/10">
                  <span class="text-3xl">{{SERVICE_ICON}}</span>
                </div>
                <!-- Arrow indicator -->
                <div class="w-10 h-10 rounded-full border border-[var(--color-text)]/8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 group-hover:border-[var(--color-primary)]/25 transform translate-x-2 group-hover:translate-x-0">
                  <svg class="w-4 h-4 text-[var(--color-primary)]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg>
                </div>
              </div>

              <!-- Title -->
              <h3 class="text-xl md:text-2xl font-bold font-heading text-[var(--color-text)] mb-3 group-hover:text-[var(--color-primary)] transition-colors duration-400">
                {{SERVICE_TITLE}}
              </h3>

              <!-- Description: compact by default, expands on hover -->
              <div class="relative">
                <p class="text-[var(--color-text-muted)] leading-relaxed font-body text-sm md:text-base line-clamp-2 group-hover:line-clamp-none transition-all duration-500">
                  {{SERVICE_DESCRIPTION}}
                </p>
                <!-- Fade mask for truncated text -->
                <div class="absolute bottom-0 left-0 right-0 h-8 bg-gradient-to-t from-[var(--color-bg-alt)] to-transparent group-hover:opacity-0 transition-opacity duration-300"></div>
              </div>

              <!-- Bottom accent line -->
              <div class="mt-6 flex items-center gap-2">
                <div class="h-[2px] flex-1 bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] transform scale-x-0 origin-left group-hover:scale-x-100 transition-transform duration-700"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- /REPEAT:SERVICES -->
    </div>
  </div>

  <style>
    @keyframes svc-beam-spin {
      from { --beam-angle: 0deg; }
      to { --beam-angle: 360deg; }
    }
    @property --beam-angle {
      syntax: '<angle>';
      initial-value: 0deg;
      inherits: false;
    }
    .svc-hcard {
      border: 1px solid rgba(var(--color-text-rgb, 128, 128, 128), 0.08);
    }
    .svc-hcard:hover {
      border-color: transparent;
    }
    @supports not (line-clamp: 2) {
      .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }
      .group:hover .group-hover\:line-clamp-none {
        -webkit-line-clamp: unset;
        overflow: visible;
      }
    }
  </style>
</section>
