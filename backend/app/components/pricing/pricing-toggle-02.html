<!-- Pricing Toggle 02: Modern cards with CSS-only monthly/yearly toggle and featured gradient card -->
<section id="pricing" class="py-24 bg-[var(--color-bg)] overflow-hidden">
  <div class="max-w-7xl mx-auto px-6">
    <!-- Header -->
    <div class="text-center mb-8" data-animate="fade-up">
      <p class="text-sm font-semibold tracking-widest uppercase text-[var(--color-primary)] mb-4">Prezzi</p>
      <h2 class="text-3xl md:text-5xl font-bold font-heading text-[var(--color-text)] mb-4">{{PRICING_TITLE}}</h2>
      <p class="text-[var(--color-text-muted)] max-w-2xl mx-auto text-lg">{{PRICING_SUBTITLE}}</p>
    </div>

    <!-- CSS-only Toggle -->
    <div class="flex items-center justify-center gap-4 mb-16" data-animate="fade-up">
      <input type="checkbox" id="pricing-period-toggle" class="pricing-period-check sr-only peer">
      <span class="text-sm font-semibold text-[var(--color-text)] peer-checked:text-[var(--color-text-muted)] transition-colors">Mensile</span>
      <label for="pricing-period-toggle" class="relative w-14 h-7 rounded-full cursor-pointer transition-colors duration-300 bg-[var(--color-text)]/10 peer-checked:bg-[var(--color-primary)]">
        <span class="absolute left-1 top-1 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-300 peer-checked:translate-x-0" style="transition: transform 0.3s;"></span>
      </label>
      <span class="text-sm font-semibold text-[var(--color-text-muted)] peer-checked:text-[var(--color-text)] transition-colors">Annuale <span class="inline-block ml-1 px-2 py-0.5 text-xs font-bold rounded-full text-white" style="background: var(--color-primary);">-20%</span></span>
    </div>

    <!-- Pricing Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 items-stretch" data-animate="stagger">
      <!-- REPEAT:PRICING_PLANS -->
      <div class="stagger-item" data-animate="fade-up">
        <div class="relative h-full rounded-3xl p-8 transition-all duration-500 pricing-card-toggle"
             data-featured="{{PLAN_FEATURED}}">

          <!-- Non-featured card style -->
          <div class="pricing-card-default absolute inset-0 rounded-3xl bg-[var(--color-bg-alt)] border border-[var(--color-text)]/[0.08]"></div>
          <!-- Featured card gradient bg -->
          <div class="pricing-card-featured absolute inset-0 rounded-3xl hidden" style="background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));"></div>

          <div class="relative z-10 flex flex-col h-full">
            <!-- Badge -->
            <div class="hidden mb-4" data-featured-badge>
              <span class="inline-flex items-center gap-1.5 px-3 py-1 bg-white/20 backdrop-blur-sm text-white text-xs font-bold rounded-full">
                <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                Popolare
              </span>
            </div>

            <!-- Plan name -->
            <h3 class="text-xl font-bold font-heading pricing-card-title text-[var(--color-text)] mb-2">{{PLAN_NAME}}</h3>
            <p class="text-sm pricing-card-desc text-[var(--color-text-muted)] mb-8">{{PLAN_DESCRIPTION}}</p>

            <!-- Price -->
            <div class="mb-8">
              <div class="flex items-baseline gap-1">
                <span class="text-lg pricing-card-currency text-[var(--color-text-muted)]">&euro;</span>
                <span class="text-5xl font-bold font-heading pricing-card-price text-[var(--color-text)]" data-counter="{{PLAN_PRICE}}">0</span>
              </div>
              <p class="text-sm pricing-card-period text-[var(--color-text-muted)] mt-1">{{PLAN_PERIOD}}</p>
            </div>

            <!-- Features -->
            <ul class="space-y-3 mb-10 flex-1">
              <!-- REPEAT:PLAN_FEATURES -->
              <li class="flex items-start gap-3">
                <svg class="w-5 h-5 flex-shrink-0 mt-0.5 pricing-card-check text-[var(--color-primary)]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7"/>
                </svg>
                <span class="text-sm pricing-card-feature text-[var(--color-text-muted)]">{{FEATURE_TEXT}}</span>
              </li>
              <!-- /REPEAT:PLAN_FEATURES -->
            </ul>

            <!-- CTA -->
            <a href="{{PLAN_CTA_URL}}" class="block w-full py-4 text-center font-bold rounded-xl transition-all duration-300 pricing-card-cta text-sm bg-[var(--color-text)]/5 text-[var(--color-text)] hover:bg-[var(--color-primary)] hover:text-white">
              {{PLAN_CTA_TEXT}}
            </a>
          </div>
        </div>
      </div>
      <!-- /REPEAT:PRICING_PLANS -->
    </div>
  </div>

  <style>
    #pricing-period-toggle:checked ~ label span { transform: translateX(1.75rem); }
    [data-featured="true"] .pricing-card-default { display: none; }
    [data-featured="true"] .pricing-card-featured { display: block !important; }
    [data-featured="true"] [data-featured-badge] { display: block !important; }
    [data-featured="true"] .pricing-card-title,
    [data-featured="true"] .pricing-card-price { color: white; }
    [data-featured="true"] .pricing-card-desc,
    [data-featured="true"] .pricing-card-period,
    [data-featured="true"] .pricing-card-feature,
    [data-featured="true"] .pricing-card-currency { color: rgba(255,255,255,0.7); }
    [data-featured="true"] .pricing-card-check { color: white; }
    [data-featured="true"] .pricing-card-cta {
      background: rgba(255,255,255,0.2) !important;
      color: white !important;
      backdrop-filter: blur(8px);
    }
    [data-featured="true"] .pricing-card-cta:hover { background: white !important; color: var(--color-primary) !important; }
    [data-featured="true"] { transform: scale(1.02); box-shadow: 0 25px 60px -12px rgba(0,0,0,0.15); }
  </style>
</section>
