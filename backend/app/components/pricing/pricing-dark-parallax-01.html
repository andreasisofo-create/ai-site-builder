<!-- Pricing Dark Parallax: dark background section with floating light pricing cards, Musse-inspired cinematic parallax feel, gradient border on featured plan -->
<section id="pricing" class="py-24 md:py-32 relative overflow-hidden" style="background: var(--color-text);">

  <!-- Ambient background effects -->
  <div class="absolute inset-0 pointer-events-none">
    <!-- Central glow -->
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[900px] h-[600px] rounded-full blur-3xl opacity-[0.08]" style="background: var(--color-primary);"></div>
    <!-- Secondary glow -->
    <div class="absolute top-0 right-0 w-[400px] h-[400px] rounded-full blur-3xl opacity-[0.05]" style="background: var(--color-secondary);"></div>
    <!-- Dot pattern -->
    <div class="absolute inset-0 opacity-[0.03]" style="background-image: radial-gradient(rgba(255,255,255,0.4) 1px, transparent 1px); background-size: 40px 40px;"></div>
    <!-- Diagonal decorative lines -->
    <div class="absolute top-0 left-0 w-full h-full opacity-[0.02]" style="background: repeating-linear-gradient(45deg, transparent, transparent 100px, rgba(255,255,255,0.1) 100px, rgba(255,255,255,0.1) 101px);"></div>
  </div>

  <div class="relative z-10 max-w-7xl mx-auto px-6">

    <!-- Section header (light text on dark) -->
    <div class="text-center max-w-3xl mx-auto mb-16 md:mb-20">
      <!-- Badge -->
      <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full border border-white/10 bg-white/5 mb-6" data-animate="blur-in">
        <span class="w-1.5 h-1.5 rounded-full animate-pulse" style="background: var(--color-primary);"></span>
        <span class="text-xs font-semibold tracking-widest uppercase font-body" style="color: var(--color-primary);">Prezzi</span>
      </div>

      <h2 class="text-3xl md:text-5xl lg:text-6xl font-heading font-bold leading-tight mb-6 text-white" data-animate="text-split" data-split-type="words">
        {{PRICING_TITLE}}
      </h2>

      <div class="w-16 h-1 rounded-full mx-auto mb-6" style="background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));" data-animate="scale-in"></div>

      <p class="text-lg md:text-xl leading-relaxed font-body text-white/60" data-animate="blur-slide" data-delay="0.2" data-duration="1">
        {{PRICING_SUBTITLE}}
      </p>
    </div>

    <!-- Pricing cards grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 items-start" data-animate="stagger">

      <!-- REPEAT:PRICING_PLANS -->
      <div class="stagger-item" data-animate="scale-in">
        <div class="relative group rounded-2xl overflow-hidden transition-all duration-500 hover:-translate-y-3 hover:shadow-2xl"
             data-featured="{{PLAN_FEATURED}}"
             data-pricing-card>

          <!-- Gradient border glow (visible on featured, subtle on others) -->
          <div class="absolute -inset-[1px] rounded-2xl opacity-0 transition-opacity duration-500 group-hover:opacity-100" style="background: linear-gradient(135deg, var(--color-primary), var(--color-secondary), var(--color-primary));" data-gradient-border></div>

          <!-- Card inner background -->
          <div class="relative rounded-2xl p-8 md:p-10" style="background: var(--color-bg); margin: 1px;">

            <!-- Consigliato badge (visible on featured) -->
            <div class="absolute -top-px left-0 right-0 h-1 opacity-0" style="background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));" data-featured-line></div>
            <div class="hidden mb-4" data-featured-badge>
              <span class="inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-bold tracking-widest uppercase text-white" style="background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));">
                <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24"><path d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/></svg>
                Consigliato
              </span>
            </div>

            <!-- Plan icon -->
            <div class="text-4xl mb-5">{{PLAN_ICON}}</div>

            <!-- Plan name -->
            <h3 class="text-xl font-heading font-bold mb-2" style="color: var(--color-text);">{{PLAN_NAME}}</h3>

            <!-- Price -->
            <div class="flex items-baseline gap-1 mb-1">
              <span class="text-lg font-body" style="color: var(--color-text-muted);">&euro;</span>
              <span class="text-5xl md:text-6xl font-heading font-black transition-colors duration-300 group-hover:text-[var(--color-primary)]" style="color: var(--color-text);" data-counter="{{PLAN_PRICE}}">0</span>
            </div>
            <p class="text-sm font-body mb-8" style="color: var(--color-text-muted);">{{PLAN_PERIOD}}</p>

            <!-- Divider -->
            <div class="w-full h-px mb-8" style="background: linear-gradient(90deg, transparent, var(--color-text), transparent); opacity: 0.08;"></div>

            <!-- Features list -->
            <ul class="space-y-4 mb-10">
              <!-- REPEAT:PLAN_FEATURES -->
              <li class="flex items-start gap-3">
                <div class="flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center mt-0.5" style="background: rgba(var(--color-primary-rgb, 99, 102, 241), 0.1);">
                  <svg class="w-3 h-3" style="color: var(--color-primary);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                  </svg>
                </div>
                <span class="text-sm font-body leading-relaxed" style="color: var(--color-text-muted);">{{FEATURE_TEXT}}</span>
              </li>
              <!-- /REPEAT:PLAN_FEATURES -->
            </ul>

            <!-- CTA Button -->
            <a href="{{PLAN_CTA_URL}}" class="block w-full py-4 text-center font-bold font-body rounded-xl transition-all duration-300 border-2" style="border-color: var(--color-primary); color: var(--color-primary);" data-animate="magnetic"
               onmouseover="this.style.background='var(--color-primary)';this.style.color='white';this.style.boxShadow='0 8px 30px rgba(var(--color-primary-rgb, 99, 102, 241), 0.3)'"
               onmouseout="this.style.background='transparent';this.style.color='var(--color-primary)';this.style.boxShadow='none'">
              {{PLAN_CTA_TEXT}}
            </a>
          </div>
        </div>
      </div>
      <!-- /REPEAT:PRICING_PLANS -->

    </div>

    <!-- Bottom decorative element -->
    <div class="flex items-center justify-center gap-4 mt-16" data-animate="fade-up" data-delay="0.5">
      <div class="w-16 h-px bg-white/10"></div>
      <div class="w-2 h-2 rounded-full bg-white/20"></div>
      <div class="w-16 h-px bg-white/10"></div>
    </div>
  </div>

  <!-- Featured card styling -->
  <style>
    /* Featured plan: always show gradient border */
    [data-featured="true"] [data-gradient-border] {
      opacity: 1 !important;
    }
    [data-featured="true"] [data-featured-badge] {
      display: block !important;
    }
    [data-featured="true"] [data-featured-line] {
      opacity: 1 !important;
    }
    /* Featured plan: scale up on desktop */
    @media (min-width: 1024px) {
      [data-featured="true"] {
        transform: scale(1.05);
        z-index: 10;
      }
      [data-featured="true"]:hover {
        transform: scale(1.05) translateY(-12px) !important;
      }
    }
    /* Featured plan: filled CTA button */
    [data-featured="true"] a[data-animate="magnetic"] {
      background: var(--color-primary) !important;
      color: white !important;
      border-color: var(--color-primary) !important;
      box-shadow: 0 8px 30px rgba(var(--color-primary-rgb, 99, 102, 241), 0.25);
    }
    /* Ambient glow behind cards on dark background */
    [data-pricing-card]::before {
      content: '';
      position: absolute;
      inset: -20px;
      border-radius: 2rem;
      background: radial-gradient(circle at 50% 50%, rgba(var(--color-primary-rgb, 99, 102, 241), 0.06), transparent 70%);
      pointer-events: none;
      z-index: -1;
    }
  </style>
</section>